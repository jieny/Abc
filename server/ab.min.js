(function(){function e(e){if(!e)return;if(!e.length)return;let t=Object.prototype.toString,n=[];for(let r=0;r<e.length;r++)if(typeName=t.call(e[r]).toLowerCase().split(" ")[1],0<=typeName.indexOf("number")){if(e[r]<256)n.push(128),n.push(e[r]);else if(e[r]>255&&e[r]<65536){n.push(129);let t=new DataView(new Uint16Array([e[r]]).buffer);n.push(t.getUint8(1)),n.push(t.getUint8(0))}else if(e[r]>65535&&e[r]<4294967296){n.push(130);let t=new DataView(new Uint32Array([e[r]]).buffer);for(let e=3;e>-1;e--)n.push(t.getUint8(e))}else if(e[r]>=4294967296){n.push(131);let t=e[r],i=new DataView(new Uint32Array([4294967295&t]).buffer);t=parseInt(t/4294967295);let f=new DataView(new Uint32Array([4294967295&t]).buffer),u=[];for(let e=0;e<4;e++)u.push(i.getUint8(e));for(let e=0;e<4;e++)u.push(f.getUint8(e));u.reverse();for(let e of u)n.push(e)}}else if(0<=typeName.indexOf("bigint")){let t=e[r];n.push(131);let i=BigInt(255),f=BigInt(8),u=[];for(let e=0;e<8;++e)u.push(Number(t&i)),t>>=f;u.reverse();for(let e of u)n.push(e)}else if(0<=typeName.indexOf("object")){n.push(132);let t=(new TextEncoder).encode(JSON.stringify(e[r])),i=new DataView(new Uint32Array([t.length]).buffer);for(let e=3;e>-1;e--)n.push(i.getUint8(e));for(let e of t)n.push(e)}else if(0<=typeName.indexOf("uint8array")){n.push(133);let t=new DataView(new Uint32Array([e[r].length]).buffer);for(let e=3;e>-1;e--)n.push(t.getUint8(e));for(let t of e[r])n.push(t)}else if(0<=typeName.indexOf("string")){n.push(134);let t=(new TextEncoder).encode(e[r]),i=new DataView(new Uint32Array([t.length]).buffer);for(let e=3;e>-1;e--)n.push(i.getUint8(e));for(let e of t)n.push(e)}else{n.push(135);let t=(new TextEncoder).encode(JSON.stringify(e[r])),i=new DataView(new Uint32Array([t.length]).buffer);for(let e=3;e>-1;e--)n.push(i.getUint8(e));for(let e of t)n.push(e)}return new Uint8Array(n).buffer}function t(e,t,n,r,i){if(!e)return;if(!e.byteLength)return;let f,u=[],l=e=>n?{}:[];try{f=new DataView(e)}catch(e){return l()}for(let n=0;n<e.byteLength;)if(128^f.getUint8(n))if(129^f.getUint8(n))if(130^f.getUint8(n))if(131^f.getUint8(n))if(132^f.getUint8(n))if(133^f.getUint8(n))if(134^f.getUint8(n)){if(135^f.getUint8(n))return u;{if(n++,e.byteLength-n<4)return l();let t=f.getUint32(n);if(n+=4,e.byteLength-n<t)return l();let r=new Uint8Array(t);for(let e=0;e<t;e++)r[e]=f.getUint8(n++);r=(new TextDecoder).decode(r);try{r=JSON.parse(r),u.push(r)}catch(e){u.push(r)}}}else{if(n++,e.byteLength-n<4)return l();let t=f.getUint32(n);if(n+=4,e.byteLength-n<t)return l();let r=new Uint8Array(t);for(let e=0;e<t;e++)r[e]=f.getUint8(n++);r=(new TextDecoder).decode(r),u.push(r)}else{if(n++,e.byteLength-n<4)return l();let t=f.getUint32(n);if(n+=4,e.byteLength-n<t)return l();if(i&&t+n>e.byteLength){u.push({offset:n,length:t});break}let r=new Uint8Array(t);for(let e=0;e<t;e++)r[e]=f.getUint8(n++);i?u.push({data:r,offset:n-t-1,length:t}):u.push(r)}else{if(n++,e.byteLength-n<4)return l();let t=f.getUint32(n);if(n+=4,e.byteLength-n<t)return l();let r={offset:n},h=new Uint8Array(t);for(let e=0;e<t;e++)h[e]=f.getUint8(n++);h=(new TextDecoder).decode(h);try{h=JSON.parse(h),i?(r.data=h,r.length=t,u.push(r)):u.push(h)}catch(e){u.push(h)}}else{if(n++,e.byteLength-n<8)return l();let r=BigInt(0),h=new Uint32Array(2);for(let e=0;e<4;e++)h[0]=h[0]+f.getUint8(n+e),e<3&&(h[0]<<=8);for(let e=4;e<8;e++)h[1]=h[1]+f.getUint8(n+e),e<7&&(h[1]<<=8);r+=BigInt(h[0]),r<<=BigInt(32),r+=BigInt(h[1]),t&&(r=Number(r)),i?u.push({data:r,offset:n,length:8}):u.push(r),n+=8}else{if(n++,e.byteLength-n<4)return l();i?u.push({data:u.push(f.getUint32(n)),offset:n,length:4}):u.push(f.getUint32(n)),n+=4}else{if(n++,e.byteLength-n<2)return l();i?u.push({data:f.getUint16(n),offset:n,length:2}):u.push(f.getUint16(n)),n+=2}else{if(n++,e.byteLength-n<1)return l();if(i?(u.push({data:f.getUint8(n),offset:n,length:1}),n++):u.push(f.getUint8(n++)),r)break}if(!n)return u;if(!n.length)return u;let h={};for(let e=0;e<n.length;e++)e>u.length-1?h[n[e]]=null:h[n[e]]=u[e];return h}"object"==typeof window?(window.createArrayBuffer=e,window.decodeArrayBuffer=t):module.exports={createArrayBuffer:e,decodeArrayBuffer:t}})();